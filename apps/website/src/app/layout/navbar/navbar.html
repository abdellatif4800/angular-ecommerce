<nav
  dirNavbarCheckScroll
  class="fixed navbar bg-base-200 shadow-sm h-16 flex flex-row items-center transition-all duration-500 z-50 w-full"
  style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(8px);"
>
  <div class="navbar-start lg:w-3/4 md:w-full mx-auto flex flex-row justify-between items-center px-4">
    <div class="flex items-center">
      <a routerLink="/" class="font-bold text-2xl text-primary">LOGO</a>
    </div>

    <div class="relative flex flex-row w-1/3 max-w-md">
      <label class="input input-bordered flex items-center gap-2 w-full field-radius">
        <button
          class="cursor-pointer"
          [ngStyle]="{ opacity: searchButtonDisabled() ? '.3' : '1' }"
          [disabled]="searchButtonDisabled()"
          (click)="goToSearchListPage()"
        >
          <lucide-angular [img]="SearchIcon" class="w-4 h-4"></lucide-angular>
        </button>
        <input type="search" required placeholder="Search products..." [formControl]="searchControl" class="grow" />
      </label>
    </div>

    <div class="flex space-x-4 items-center">
      @if (!isUserLogedin()) {
        <app-login-form></app-login-form>
      } @else {
        <div class="flex justify-between items-center gap-4">
          <a routerLink="/userLists/cart" class="btn btn-ghost btn-circle relative">
            <lucide-angular [img]="CartIcon" class="w-6 h-6"></lucide-angular>
            <span class="badge badge-sm badge-primary absolute -top-1 -right-1 min-w-[1.25rem] h-5 flex items-center justify-center">
              <!-- TODO: Bind to cart items count -->
              0
            </span>
          </a>

          <div class="dropdown dropdown-end">
            <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
              <div class="w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
                <img src="https://img.daisyui.com/images/profile/demo/superperson@192.webp" alt="User avatar" />
              </div>
            </div>
            <ul
              tabindex="0"
              class="mt-3 z-[1] p-2 shadow-lg menu menu-sm dropdown-content bg-base-100 rounded-box w-52 card-radius"
            >
              <li class="menu-title">
                <span>{{ username }}</span>
              </li>
              <li>
                <a routerLink="/userLists/orderList" class="flex items-center gap-2">
                  <lucide-angular [img]="ListIcon" class="w-4 h-4"></lucide-angular>
                  Order List
                </a>
              </li>
              <li>
                <a (click)="logout()" class="text-error flex items-center gap-2">
                  <lucide-angular [img]="LogoutIcon" class="w-4 h-4"></lucide-angular>
                  Logout
                </a>
              </li>
            </ul>
          </div>
        </div>
      }
    </div>
  </div>
</nav>
