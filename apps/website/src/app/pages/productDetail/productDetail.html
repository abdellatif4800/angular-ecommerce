<div class="flex flex-col gap-5">
  <div class="breadcrumbs text-sm h-10 flex items-center">
    <ul>
      <li>
        <a routerLink="/">
          <lucide-angular [img]="HomeIcon"></lucide-angular>
        </a>
      </li>
      <li>
        <a routerLink="/categories"> Category </a>
      </li>

      <li>
        <a [routerLink]="['/category', currentCategory()]">
          {{ currentCategory() | uppercase }}
        </a>
      </li>

      <li>
        {{ product()?.name }}
      </li>
    </ul>
  </div>

  <!-- <p-toast /> -->
  <div class="flex flex-row gap-5 p-2 bg-base-100 shadow-[0px_0px_10px_rgba(0,0,0,0.3)]">
    <div class="w-1/3 h-60 flex flex-row gap-5">
      <div class="flex flex-col gap-2">
        <!-- @for (img of images(); track $index; let idx = $index) { -->
        <!--   <img -->
        <!--     [src]="img.image" -->
        <!--     class="cursor-pointer size-20" -->
        <!--     (click)="currentMainImageIdx.set(idx)" -->
        <!--   /> -->
        <!-- } -->
      </div>
      <img [src]="product()?.imageUrl" class="w-full h-full shadow-xl" >
    </div>

    <div class="divider divider-horizontal"></div>
    <div class="relative flex flex-col w-3/5">
      <div class="w-full flex flex-row justify-between gap-2">
        <p class="w-2/3 text-2xl font-extrabold">
              {{ product()?.name }}
        </p>
        <div class="flex justify-center gap-2">
          <button class="btn btn-outline btn-error size-8">
            <lucide-angular class="transition-all duration-500" [img]="HeartIcon"></lucide-angular>
          </button>
          <button class="btn btn-primary size-8" (click)="addItemToCart()">
            <lucide-angular class="transition-all duration-500" [img]="CartIcon"></lucide-angular>
          </button>
        </div>
      </div>

      <div class="divider"></div>
      <div class="flex flex-col gap-5">
        @if (product()?.discount !== 0) {
          <div class="flex flex-row justify-start space-x-5">
            <p class="text-xl">
              ${{ priceAfterDiscount(product()?.price ?? 0, product()?.discount ?? 0) }} -
              <span class="opacity-70 line-through decoration-red-500 decoration-[1.5px]">
                ${{ product()?.price }}
              </span>
            </p>
            <p class="bg-amber-300 text-amber-700 text-lg px-1">-{{ product()?.discount }}%</p>
          </div>
        } @else {
          <div class="font-bold text-2xl flex flex-row">
            <p>${{ product()?.price }}</p>
          </div>
        }

        <p-rating [ngModel]="product()?.rate" [disabled]="true" />

        <div class="w-full">
          <p [ngStyle]="discreptionReadMore()" class="discreption">
            Nulla nulla qui do incididunt sintlaborum ex quis excepteur est elit quis. Sit dolor
            excepteur sunt ut ea voluptate tempor voluptate adipisicing.Sit dolor excepteur sunt ut
            ea voluptate tempor voluptate adipisicing.Sit dolor excepteur sunt ut ea voluptate
            tempor voluptate ea voluptate tempor voluptate adipisicing.Sit dolor excepteur sunt ut
            ea voluptate tempor voluptate ea voluptate tempor voluptate adipisicing.Sit dolor
            excepteur sunt ut ea voluptate tempor voluptate adipisicing.
          </p>
          <button
            class="underline cursor-pointer font-bold"
            (click)="isDiscreptionShown.set(!isDiscreptionShown())"
          >
            @if (!isDiscreptionShown()) {
              Extend
            } @else {
              Shrink
            }
          </button>
        </div>
      </div>
    </div>
  </div>

  <products-carousel
    listTitel="Related Products"
    [products]="relatedProducts()"
  ></products-carousel>
</div>
